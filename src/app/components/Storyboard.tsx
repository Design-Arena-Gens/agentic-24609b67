"use client";

import { motion } from "framer-motion";
import { SceneCard, type Scene } from "./SceneCard";

const scenes: Scene[] = [
  {
    id: "I",
    title: "Площадь, которой не видно",
    visual:
      "Кадр с высоты — глухая площадь, туман, словно молоко с сажей. В центре — силуэт Игоря, размытый, как будто камера не может сфокусироваться. Размытые огни фонарей цепляются за его спину, пульсируя фиолетовыми вспышками по шрамам.",
    voice:
      "Закадровый голос — сухой, хриплый, с эхом старого радио. Он говорит медленно, с паузами и слышимым вдохом перед каждой мыслью.",
    dissolve:
      "Туман подбирается к объективу, слой за слоем растворяя контуры. Фоновый шум нарастает, пока силуэт не растворяется в молочной дымке.",
    cut: "Резкая фиолетовая вспышка по диагонали кадра — шрамы на лице Игоря вспыхивают, как дорожная разметка, и тут же тонут в темноте.",
    beats: [
      "Слова: «Площадь помнит его шаги лучше, чем он сам» — шёпот накладывается на гул.",
      "Камера медленно подтягивается к лицу, но постоянно теряет резкость из-за налегающего тумана.",
      "Диалог с паузами: «(вдох) — Видишь?.. (долгая пауза) Они всё ещё смотрят...»"
    ]
  },
  {
    id: "II",
    title: "Арка, где гул обретает голос",
    visual:
      "Игорь в арке, за спиной — пустой проезд. Из тумана выплывают силуэты, но не становятся людьми. Фон — архитектура, похожая на бетонные глыбы Sora 2.",
    voice:
      "Стенания радио ходят по кругу. В моменты тишины слышно его дыхание, будто через свисток. Фразы дробятся, он шепчет, боясь разбудить площадь.",
    dissolve:
      "Туман медленно заслоняет камеру, как занавес. Прожектор света вычерчивает контур его плеч, пока он не превращается в пятно.",
    cut: "Пара коротких вспышек — словно старый фотоаппарат с лампами. На одном кадре видны трещины на коже, на другом — пустые глаза.",
    beats: [
      "Игорь шепчет: «(шепот) Я слышу их шаги. (вдох) Но улица пустая».",
      "Шёпоты в саундтреке отвечают ему фразами-названиями улиц — едва различимо.",
      "Камера делает быстрый cut к его глазам — красные прожилки светятся, будто внутри лампа."
    ]
  },
  {
    id: "III",
    title: "Монолит и трещина",
    visual:
      "Игорь стоит у памятника, кажется, что он сам — памятник. Туман обволакивает его, оставляя только плечи и лицо. Сора-2 визуал размывает фон, оставляя фиолетовые всплески как отпечатки прошлого.",
    voice:
      "Голос становится глухим, будто передаётся через несколько стен. Длинные паузы, в которых слышен только ветер, и редкие, болезненные вдохи.",
    dissolve:
      "Герой растворяется в тумане, от него остаётся только шрам, вспыхивающий и плавающий в густой дымке.",
    cut: "Последний cut — горизонтальный, будто лезвие. Экран почти полностью белый от тумана, лишь на миг появляется его силуэт и тут же исчезает.",
    beats: [
      "Финальная фраза: «(долгий вдох) Они не ушли. (пауза) Они выдохнули меня». — на слове «выдохнули» начинается erase-субтитр.",
      "Туман формирует в воздухе едва заметные символы — числа, даты, исчезающие сразу после вспышек.",
      "Ветер усиливается, гул переходит в низкий тон, напоминающий сирену, но приглушённую стенами."
    ]
  }
];

export function Storyboard() {
  return (
    <section className="mt-24 space-y-12">
      <motion.div
        initial={{ opacity: 0, y: 30 }}
        whileInView={{ opacity: 1, y: 0 }}
        viewport={{ once: true, margin: "-20%" }}
        transition={{ duration: 1.1, ease: [0.22, 1, 0.36, 1] }}
        className="mx-auto flex max-w-3xl flex-col gap-3 text-center"
      >
        <span className="text-xs uppercase tracking-[0.4em] text-white/40">Структура</span>
        <h2 className="text-4xl text-white">Dissolve и Cut как дыхание площади</h2>
        <p className="text-sm text-white/60">
          Каждый dissolve тумана тянет паузу, а cut фиолетовой вспышки — короткий, как нервный тик. Медленный монтаж,
          словно сон, который не отпускает.
        </p>
      </motion.div>
      <div className="grid gap-10 lg:grid-cols-1">
        {scenes.map((scene) => (
          <SceneCard key={scene.id} scene={scene} />
        ))}
      </div>
    </section>
  );
}
